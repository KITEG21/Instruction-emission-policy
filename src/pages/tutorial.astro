---
---

<html lang="es">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>Tutorial - Simulador Superescalar</title>
    </head>
    <body class="bg-zinc-950 min-h-screen text-zinc-300 font-sans selection:bg-yellow-500/30 selection:text-yellow-200">
        
        <div class="max-w-4xl mx-auto px-6 py-12">
            
            {/* Header */}
            <header class="mb-12 border-b border-zinc-800 pb-8">
                <a href="/" class="inline-flex items-center gap-2 text-yellow-500 hover:text-yellow-400 font-bold mb-6 transition-colors">
                    <span>←</span> Volver al Simulador
                </a>
                <h1 class="text-5xl font-extrabold text-white tracking-tight mb-4">
                    Conceptos Básicos <span class="text-yellow-400">Superescalares</span>
                </h1>
                <p class="text-xl text-zinc-400 leading-relaxed">
                    Guía esencial para entender cómo los procesadores modernos ejecutan múltiples instrucciones a la vez y por qué el orden importa.
                </p>
            </header>

            <main class="space-y-16">

                {/* Section 1: Pipeline */}
                <section>
                    <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-3">
                        <span class="bg-zinc-800 w-10 h-10 flex items-center justify-center rounded-lg text-xl">1</span>
                        ¿Qué es un Pipeline?
                    </h2>
                    <div class="bg-zinc-900/50 rounded-xl p-6 border border-zinc-800">
                        <p class="mb-4">
                            Imagina una lavandería. Lavar una carga de ropa toma tiempo (lavar, secar, doblar). Si esperas a terminar todo con una carga antes de empezar la siguiente, eres ineficiente.
                        </p>
                        <p class="mb-4">
                            Un <strong>Pipeline</strong> permite empezar a lavar la segunda carga mientras la primera se está secando. En procesadores, dividimos la ejecución de una instrucción en etapas:
                        </p>
                        <ul class="grid grid-cols-1 md:grid-cols-4 gap-4 mt-6">
                            <li class="bg-zinc-800 p-4 rounded-lg border border-zinc-700 text-center">
                                <div class="text-blue-400 font-bold mb-1">Fetch</div>
                                <div class="text-xs text-zinc-500">Buscar instrucción</div>
                            </li>
                            <li class="bg-zinc-800 p-4 rounded-lg border border-zinc-700 text-center">
                                <div class="text-blue-400 font-bold mb-1">Decode</div>
                                <div class="text-xs text-zinc-500">Entender qué hacer</div>
                            </li>
                            <li class="bg-zinc-800 p-4 rounded-lg border border-zinc-700 text-center">
                                <div class="text-yellow-400 font-bold mb-1">Execute</div>
                                <div class="text-xs text-zinc-500">Calcular/Procesar</div>
                            </li>
                            <li class="bg-zinc-800 p-4 rounded-lg border border-zinc-700 text-center">
                                <div class="text-green-400 font-bold mb-1">Write Back</div>
                                <div class="text-xs text-zinc-500">Guardar resultado</div>
                            </li>
                        </ul>
                    </div>
                </section>

                {/* Section 2: Superscalar */}
                <section>
                    <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-3">
                        <span class="bg-zinc-800 w-10 h-10 flex items-center justify-center rounded-lg text-xl">2</span>
                        ¿Qué es Superescalar?
                    </h2>
                    <div class="bg-zinc-900/50 rounded-xl p-6 border border-zinc-800">
                        <p class="mb-4">
                            Un procesador escalar ejecuta una instrucción por ciclo. Un procesador <strong>Superescalar</strong> tiene múltiples "carriles" (Unidades Funcionales) y puede iniciar y ejecutar varias instrucciones simultáneamente en el mismo ciclo de reloj.
                        </p>
                        <div class="flex items-center gap-4 mt-4 bg-yellow-500/10 p-4 rounded-lg border border-yellow-500/20">
                            <span class="text-3xl"></span>
                            <p class="text-yellow-200 text-sm">
                                <strong>En el simulador:</strong> Puedes configurar cuántas Unidades Funcionales tienes (2, 3 o 4). Más unidades significan más capacidad de trabajo paralelo.
                            </p>
                        </div>
                    </div>
                </section>

                {/* Section 3: Dependencies */}
                <section>
                    <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-3">
                        <span class="bg-zinc-800 w-10 h-10 flex items-center justify-center rounded-lg text-xl">3</span>
                        El Problema: Dependencias y Limitaciones
                    </h2>
                    <div class="bg-zinc-900/50 rounded-xl p-6 border border-zinc-800">
                        <p class="mb-4">
                            No siempre podemos ejecutar todo a la vez. Si la instrucción B necesita el resultado de la instrucción A, B debe esperar. Esto se llama <strong>Dependencia de Datos (RAW - Read After Write)</strong>.
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                            <div class="bg-zinc-800 p-4 rounded-lg border-l-4 border-red-500">
                                <code class="block text-red-300 mb-2">I1: R1 = R2 + R3</code>
                                <code class="block text-white">I2: R5 = <span class="text-red-400 font-bold">R1</span> + R4</code>
                                <p class="text-xs text-zinc-400 mt-2">I2 no puede empezar hasta que I1 termine y escriba R1.</p>
                            </div>
                            <div class="flex items-center justify-center">
                                <p class="text-zinc-400 text-sm italic">
                                    "El simulador muestra estas dependencias en la columna 'Deps' y pone las instrucciones en estado <span class="text-orange-400 font-bold">WAITING</span>."
                                </p>
                            </div>
                        </div>
                        <h3 class="text-lg font-bold text-white mt-6 mb-4">Tipos de Limitaciones en la Ejecución</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full border-collapse border border-zinc-700">
                                <thead>
                                    <tr class="bg-zinc-800">
                                        <th class="border border-zinc-700 p-3 text-left text-yellow-400 font-bold">Limitación</th>
                                        <th class="border border-zinc-700 p-3 text-left text-yellow-400 font-bold">Descripción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="hover:bg-zinc-800/50">
                                        <td class="border border-zinc-700 p-3 font-semibold text-white">Dependencia de datos verdadera</td>
                                        <td class="border border-zinc-700 p-3 text-zinc-400">Ocurre si la ejecución de una instrucción posterior (ej. i1) depende de datos que deben ser calculados por una instrucción precedente (ej. i0).</td>
                                    </tr>
                                    <tr class="hover:bg-zinc-800/50">
                                        <td class="border border-zinc-700 p-3 font-semibold text-white">Dependencia relativa al procedimiento</td>
                                        <td class="border border-zinc-700 p-3 text-zinc-400">Limitación causada por saltos o bifurcaciones en el flujo de ejecución.</td>
                                    </tr>
                                    <tr class="hover:bg-zinc-800/50">
                                        <td class="border border-zinc-700 p-3 font-semibold text-white">Conflicto en los recursos</td>
                                        <td class="border border-zinc-700 p-3 text-zinc-400">Ocurre cuando dos instrucciones (ej. i0 e i1) intentan usar la <strong>misma unidad funcional</strong> simultáneamente.</td>
                                    </tr>
                                    <tr class="hover:bg-zinc-800/50">
                                        <td class="border border-zinc-700 p-3 font-semibold text-white">Dependencia de salida (Write-Write)</td>
                                        <td class="border border-zinc-700 p-3 text-zinc-400">Se da cuando dos instrucciones escriben en la misma ubicación (ejemplo: I1 e I3 en el código fuente).</td>
                                    </tr>
                                    <tr class="hover:bg-zinc-800/50">
                                        <td class="border border-zinc-700 p-3 font-semibold text-white">Antidependencia (Write-Read)</td>
                                        <td class="border border-zinc-700 p-3 text-zinc-400">Se da cuando una instrucción necesita leer un valor que una instrucción posterior sobrescribirá (ejemplo: I2 e I3 en el código fuente).</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                {/* Section 4: Policies */}
                <section>
                    <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-3">
                        <span class="bg-zinc-800 w-10 h-10 flex items-center justify-center rounded-lg text-xl">4</span>
                        Políticas de Ejecución
                    </h2>
                    <p class="text-zinc-400 mb-6">
                        Aquí es donde ocurre la magia. ¿Cómo manejamos el orden de las instrucciones?
                    </p>
                    
                    <div class="space-y-6">
                        {/* In-In */}
                        <div class="group hover:bg-zinc-900 transition-colors p-6 rounded-xl border border-zinc-800 hover:border-yellow-500/30">
                            <h3 class="text-xl font-bold text-white mb-2 flex items-center gap-2">
                                <span class="text-2xl"></span> Emision en orden / Finalizacion en orden
                            </h3>
                            <p class="text-zinc-400 text-sm mb-3">
                                El enfoque clásico y simple. Las instrucciones entran en orden y deben salir en orden.
                            </p>
                            <ul class="list-disc list-inside text-sm text-zinc-500 space-y-1">
                                <li>Si I1 se atasca, I2 espera (aunque I2 esté lista).</li>
                                <li>Si I1 tarda mucho en ejecutarse, I2 no puede escribir su resultado hasta que I1 termine.</li>
                            </ul>
                        </div>

                        {/* In-Out */}
                        <div class="group hover:bg-zinc-900 transition-colors p-6 rounded-xl border border-zinc-800 hover:border-yellow-500/30">
                            <h3 class="text-xl font-bold text-white mb-2 flex items-center gap-2">
                                <span class="text-2xl"></span> Emision en orden / Finalizacion desordenada
                            </h3>
                            <p class="text-zinc-400 text-sm mb-3">
                                Emitimos en orden, pero permitimos que las instrucciones rápidas terminen antes.
                            </p>
                            <ul class="list-disc list-inside text-sm text-zinc-500 space-y-1">
                                <li>I2 puede terminar y escribir su resultado antes que I1.</li>
                                <li>Evita que instrucciones lentas bloqueen el bus de escritura innecesariamente.</li>
                            </ul>
                        </div>

                        {/* Out-Out */}
                        <div class="group hover:bg-zinc-900 transition-colors p-6 rounded-xl border border-zinc-800 hover:border-yellow-500/30">
                            <h3 class="text-xl font-bold text-white mb-2 flex items-center gap-2">
                                <span class="text-2xl"></span> Emision desordenada / Finalizacion desordenada
                            </h3>
                            <p class="text-zinc-400 text-sm mb-3">
                                Máxima flexibilidad. Usamos una "Ventana de Instrucciones" (Instruction Window).
                            </p>
                            <ul class="list-disc list-inside text-sm text-zinc-500 space-y-1">
                                <li>Si I1 está esperando datos, el procesador busca más adelante (I2, I3) y las ejecuta si están listas.</li>
                                <li>Requiere hardware complejo para reordenar los resultados al final.</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section>
  <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-3">
    <span class="bg-zinc-800 w-10 h-10 flex items-center justify-center rounded-lg text-xl">5</span>
    Recorrido paso a paso (Walkthrough interactivo)
  </h2>

  <div class="bg-zinc-900/50 rounded-xl p-6 border border-zinc-800 space-y-4">
    <p class="text-zinc-400">
      Vamos a seguir un ejemplo sencillo para ver qué ocurre en cada ciclo. Usa el botón <strong>Paso</strong> en el simulador y observa las columnas <em>DECODE</em>, <em>EXECUTE</em> y <em>WRITE BACK</em>.
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="bg-zinc-800 p-4 rounded-lg border border-zinc-700">
        <div class="text-sm text-zinc-300 font-semibold mb-2">Programa de ejemplo</div>
        <pre class="bg-zinc-900 p-3 rounded text-sm text-yellow-200 overflow-auto">
I1: R1 = R2 + R3   // ALU
I2: R4 = R5 + R6   // ALU
I3: R7 = R1 + R8   // ALU (depende de I1)
        </pre>
      </div>

      <div class="bg-zinc-800 p-4 rounded-lg border border-zinc-700">
        <div class="text-sm text-zinc-300 font-semibold mb-2">Qué observar</div>
        <ul class="text-sm text-zinc-400 list-disc list-inside space-y-1">
          <li>En <strong>ciclo 1</strong>, decodifica I1 e I2.</li>
          <li>Si hay suficientes unidades, I1 e I2 se emiten y pasan a EXECUTE.</li>
          <li>I3 espera (DEPENDENCIA) hasta que I1 termine y se escriba su resultado.</li>
          <li>Cambia la política a <strong>Out-Out</strong>, vuelve a ejecutar y fija la diferencia: I3 puede ejecutarse si sus dependencias están listas, y la ventana permite buscar instrucciones adelantadas.</li>
                            <li>Haz clic en el botón <strong>Modo sencillo</strong> y luego en <strong>Más detalles</strong> para ver explicaciones y usar el botón <strong>Resaltar</strong> para localizar una instrucción en la visualización.</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<section>
  <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-3">
    <span class="bg-zinc-800 w-10 h-10 flex items-center justify-center rounded-lg text-xl">6</span>
    Glosario rápido
  </h2>
  <div class="bg-zinc-900/50 rounded-xl p-6 border border-zinc-800">
    <ul class="list-disc pl-5 space-y-2 text-zinc-300 text-sm">
      <li><strong>Decode:</strong> La fase donde se entiende la instrucción y se reserva espacio en la ventana.</li>
      <li><strong>Issue:</strong> Cuando la instrucción se asigna a una Unidad Funcional (FU).</li>
      <li><strong>Execute:</strong> La instrucción se ejecuta; consume ciclos según latencia.</li>
      <li><strong>Write Back / Commit:</strong> La instrucción escribe su resultado y se marca como finalizada.</li>
      <li><strong>Ventana (Instruction Window):</strong> Buffer donde se guardan instrucciones decodificadas para permitir emisión desordenada.</li>
      <li><strong>Stall:</strong> Bloqueo causado por dependencias, FU ocupada o bus de escritura completo.</li>
    </ul>
  </div>
</section>

<section>
  <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-3">
    <span class="bg-zinc-800 w-10 h-10 flex items-center justify-center rounded-lg text-xl">7</span>
    Consejos rápidos para usar el simulador
  </h2>
  <div class="bg-zinc-900/50 rounded-xl p-6 border border-zinc-800">
    <ul class="text-zinc-300 list-decimal pl-5 space-y-2 text-sm">
      <li>Empieza con <strong>In-In</strong> para entender el comportamiento clásico en orden.</li>
      <li>Usa el modo <strong>Paso</strong> si quieres ver la transición de una sola instrucción por ciclo.</li>
      <li>Aumenta las Unidades Funcionales y observa cómo cambia el throughput.</li>
      <li>Activa <strong>Out-Out</strong> y mira la ventana: las instrucciones pueden ejecutarse fuera de orden si no dependen.</li>
      <li>Observa la columna <strong>Decode</strong> y la ventana para entender si una instrucción está lista o bloqueada.</li>
    </ul>
  </div>
</section>

<section>
  <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-3">
    <span class="bg-zinc-800 w-10 h-10 flex items-center justify-center rounded-lg text-xl">8</span>
    Ejemplos y ejercicios rápidos
  </h2>
  <div class="bg-zinc-900/50 rounded-xl p-6 border border-zinc-800 space-y-4">
    <div>
      <div class="text-sm text-zinc-300 font-semibold mb-2">Ejemplo 1 — Instrucciones independientes</div>
      <pre class="bg-zinc-900 p-3 rounded text-sm text-yellow-200 overflow-auto">I1: R1 = R2 + R3
I2: R4 = R5 + R6
I3: R7 = R8 + R9</pre>
      <div class="text-zinc-400 text-sm mt-2">Resultado esperado: alta paralelización, completa en menos ciclos con varias FUs.</div>
    </div>

    <div>
      <div class="text-sm text-zinc-300 font-semibold mb-2">Ejemplo 2 — Cadena dependiente</div>
      <pre class="bg-zinc-900 p-3 rounded text-sm text-yellow-200 overflow-auto">I1: R1 = R2 + R3
I2: R2 = R1 + 1
I3: R3 = R2 + 1</pre>
      <div class="text-zinc-400 text-sm mt-2">Resultado esperado: bajo paralelismo por RAW; observa stalls en Issue hasta que los resultados se escriben.</div>
    </div>
  </div>
</section>

<section>
  <h2 class="text-3xl font-bold text-white mb-6 flex items-center gap-3">
    <span class="bg-zinc-800 w-10 h-10 flex items-center justify-center rounded-lg text-xl">9</span>
    Pequeño Quiz (Auto-evaluación)
  </h2>

  <div class="bg-zinc-900/50 rounded-xl p-6 border border-zinc-800">
    <ol class="text-zinc-300 list-decimal pl-5 space-y-3 text-sm">
      <li>¿Qué ocurre si I1 depende del resultado de I0? — <span class="text-zinc-400">I1 se queda en DECODIFICADO o WAITING hasta que I0 WRITE BACK.</span></li>
      <li>¿Qué diferencia esperas entre In-In y Out-Out? — <span class="text-zinc-400">Out-Out permite ejecutar instrucciones fuera de orden si no dependen.</span></li>
      <li>Si dos instrucciones requieren la misma FU, ¿qué pasa? — <span class="text-zinc-400">Una se emite y la otra se queda con blockReason 'FU ocupada'.</span></li>
    </ol>
  </div>
</section>

<!-- Footer CTA (existing) -->
<div class="mt-16 pt-8 border-t border-zinc-800 text-center">
  <p class="text-zinc-400 mb-6">¿Listo para probarlo?</p>
  <a href="/" class="inline-block bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-4 px-8 rounded-lg transition-transform hover:scale-105 shadow-lg shadow-yellow-500/20">
      Ir al Simulador
  </a>
</div>

            </main>
        </div>
    </body>
</html>